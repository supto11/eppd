"use strict";(self.webpackChunke_pos_point_dashboard=self.webpackChunke_pos_point_dashboard||[]).push([[592],{2020:(A,p,t)=>{t.d(p,{B:()=>n});var s=t(9133),v=t(5304),g=t(423),_=t(1746),e=t(3668),D=t(5794),u=t(1540),f=t(515),M=t(8167),m=t(4383),C=t(9112),h=t(86),P=t(6019),c=t(7964),l=t(8292);function d(a,r){1&a&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._UZ(2,"mat-spinner",10),e.qZA(),e._uU(3," Saving... "),e.BQk())}function E(a,r){1&a&&(e.ynx(0),e.TgZ(1,"mat-icon",7),e._uU(2,"save"),e.qZA(),e._uU(3," Save "),e.BQk())}let n=(()=>{class a{constructor(i,o,O,U){this.fb=i,this.brandService=o,this.dialogRef=O,this.data=U,this.isLoading=!1,O.disableClose=!0,this.initForm()}initForm(){this.brandForm=this.fb.group({name:this.fb.control(this.isEditMode?this.brand.name:"",s.kI.required)})}onSubmit(){this.brandForm.invalid||this.isEditMode||(this.isLoading=!0,this.brandService.new(this.name.value).pipe((0,g.x)(()=>{this.isLoading=!1})).subscribe(()=>{this.dialogRef.close()}))}get name(){return this.brandForm.get("name")}get isEditMode(){var i;return(null===(i=this.data)||void 0===i?void 0:i.type)===_.w.Edit}get brand(){return this.data.brand}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(s.qu),e.Y36(D.c),e.Y36(v.so),e.Y36(v.WI))},a.\u0275cmp=e.Xpm({type:a,selectors:[["eppd-brand-form-small-one"]],decls:28,vars:8,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","","fxLayoutAlign","space-between center"],[1,"opacity__50"],["appearance","outline"],["matInput","","formControlName","name"],["fxLayoutAlign","end center"],["mat-stroked-button","","mat-dialog-close","true","color","warn",1,"round__button"],[1,"mat__small__icon"],["mat-flat-button","","color","primary",1,"round__button",3,"disabled"],[4,"ngIf"],["diameter","23"]],template:function(i,o){1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(1,"h2",1),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e.TgZ(4,"span"),e.TgZ(5,"span",2),e._uU(6,"SF"),e.qZA(),e.TgZ(7,"strong"),e._uU(8," #1"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"mat-dialog-content"),e.TgZ(10,"mat-form-field",3),e.TgZ(11,"mat-label"),e._uU(12,"Brand Name"),e.qZA(),e._UZ(13,"input",4),e.TgZ(14,"mat-error"),e.TgZ(15,"mat-icon"),e._uU(16,"warning"),e.qZA(),e.TgZ(17,"strong"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"mat-dialog-actions",5),e.TgZ(21,"button",6),e.TgZ(22,"mat-icon",7),e._uU(23,"close"),e.qZA(),e._uU(24," Close "),e.qZA(),e.TgZ(25,"button",8),e.YNc(26,d,4,0,"ng-container",9),e.YNc(27,E,4,0,"ng-container",9),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("formGroup",o.brandForm),e.xp6(3),e.hij("",o.isEditMode?"Edit":"New"," Brand"),e.xp6(15),e.Oqu(e.lcZ(19,6,"validationErrors.required")),e.xp6(7),e.Q6J("disabled",o.brandForm.invalid||o.isLoading),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("ngIf",!o.isLoading))},directives:[s._Y,s.JL,s.sg,v.uh,u.Zt,u.Bh,f.Wh,v.xY,M.KE,M.hX,m.Nt,s.Fj,s.JJ,s.u,M.TO,C.Hw,v.H8,h.lW,v.ZT,P.O5,c.$g],pipes:[l.X$],styles:["[_nghost-%COMP%]{display:block;min-width:300px}"]}),a})()},9078:(A,p,t)=>{t.d(p,{O:()=>i});var s=t(6491),v=t(6019),g=t(6153),_=t(1540),e=t(8292),D=t(5304),u=t(9133),f=t(8167),M=t(4383),m=t(7444),C=t(9112),h=t(514),P=t(6400),c=t(86),l=t(7964),d=t(5694),E=t(3652),n=t(3668);let a=(()=>{class o{}return o.\u0275fac=function(U){return new(U||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[v.ez,u.UX,D.Is,f.lN,M.c,m.AV,C.Ps,h.rP,P.LD,c.ot,l.Cq,d.t,_._t,e.aw,g.o9,E.v3]]}),o})(),r=(()=>{class o{}return o.\u0275fac=function(U){return new(U||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[a],a]}),o})(),i=(()=>{class o{}return o.\u0275fac=function(U){return new(U||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[r,s._],r,s._]}),o})()},9323:(A,p,t)=>{t.d(p,{A:()=>C});var s=t(6019),v=t(86),g=t(3530),_=t(7444),e=t(6153),D=t(9112),u=t(3668);const f=[v.ot,g.Tx,_.AV],M=[e.o9];let m=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[s.ez,...f,...M,D.Ps]]}),h})(),C=(()=>{class h{}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[s.ez,m]]}),h})()},712:(A,p,t)=>{t.d(p,{v:()=>l});var s=t(4499),v=t(2997),g=t(4753),_=t(7384),e=t(2835),D=t(6404),u=t(5237),f=t(7038),M=t(862),m=t(3668),C=t(5873),h=t(6129),P=t(4486),c=t(8881);let l=(()=>{class d{constructor(n,a,r,i){this.httpService=n,this.utilService=a,this.storageService=r,this.lodashService=i,this.customers$=new s.X({data:[],loading:!0,loaded:!1}),this.customers=[],this.selectedCustomer$=new s.X({data:void 0})}get(){return this.customers.length?(0,v.of)(this.customers):(this.customers$.next({data:[],loading:!0,loaded:!1}),this.httpService.requestCell(D.i.customerApiUrl(),u.m.GET).pipe((0,g.U)(({data:n})=>n.map(a=>this.utilService.convertStringPropertyToNumber(a,["id","locationId","terminalId"]))),(0,_.b)(n=>{this.customers=n,this.customers$.next({data:n,loading:!1,loaded:!0}),this.selectedCustomer=n[0],this.selectedCustomer$.next({data:this.selectedCustomer})}),(0,e.K)(n=>(this.customers$.next({data:[],loading:!1,loaded:!1,error:n}),(0,v.of)([]))),(0,f.d)()))}addNew(n){return this.httpService.requestCell(D.i.customerApiUrl(),u.m.POST,Object.assign(Object.assign({},d.customerObj),n)).pipe((0,g.U)(({data:a})=>a),(0,_.b)(a=>{this.customers.push(a),this.customers$.next({data:this.customers})}))}storeTableRowOrder(n){this.storageService.setItemToLocalStorage(M.B.CustomerTableIds,this.lodashService.map(n,"id"))}getSortedCustomer(n){let a=this.storageService.getItemFormLocalStorage(M.B.CustomerTableIds);return null===a?this.customers:this.lodashService.sortBy(n,"id",a)}get customerSkeletonLoader$(){return(0,v.of)(Array(10).fill(""))}get isCustomersEmpty$(){return this.customers$.pipe((0,g.U)(n=>!(n.data.length||!n.loaded)))}get isCustomersLoading$(){return this.customers$.pipe((0,g.U)(n=>!!n.loading))}get isCustomersLoaded$(){return this.customers$.pipe((0,g.U)(n=>!!n.loaded))}static get customerObj(){return{companyCode:"",locationId:0,terminalId:0,isNew:!0}}}return d.\u0275fac=function(n){return new(n||d)(m.LFG(C.O),m.LFG(h.f),m.LFG(P.V),m.LFG(c.x))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},5794:(A,p,t)=>{t.d(p,{c:()=>n});var l,d,E,s=t(4762),v=t(4499),g=t(2997),_=t(4753),e=t(7384),D=t(2835),u=t(5237),f=t(7038),M=t(6404),m=t(3668),C=t(5873),h=t(6129),P=t(840),c=t(8881);class n{constructor(r,i,o,O){this.httpService=r,this.utilService=i,this.authService=o,this.lodashService=O,l.add(this),this.brands$=new v.X({data:[],loading:!0,loaded:!1}),d.set(this,[])}getAll(){return(0,s.Q_)(this,d,"f").length?((0,s.Q_)(this,l,"m",E).call(this),(0,g.of)((0,s.Q_)(this,d,"f"))):((0,s.Q_)(this,l,"m",E).call(this,!0,!1),this.httpService.requestCell(M.i.brandApiUrl(),u.m.GET).pipe((0,_.U)(({data:r})=>r.map(i=>this.utilService.convertStringPropertyToNumber(i,["id","locationId","terminalId"]))),(0,_.U)(r=>this.lodashService.orderBy(r)),(0,e.b)(r=>{(0,s.YH)(this,d,r,"f"),(0,s.Q_)(this,l,"m",E).call(this)}),(0,D.K)(r=>{throw(0,s.Q_)(this,l,"m",E).call(this,!1,!1,r),r}),(0,f.d)()))}new(r){return this.httpService.requestCell(M.i.brandApiUrl(),u.m.POST,Object.assign(Object.assign({},this.brandObj),{name:r})).pipe((0,_.U)(({data:i})=>this.utilService.convertStringPropertyToNumber(i,["id","locationId","terminalId"])),(0,e.b)(i=>{(0,s.Q_)(this,d,"f").unshift(i),(0,s.Q_)(this,l,"m",E).call(this)}))}update(r){return this.httpService.requestCell(M.i.brandApiUrl(),u.m.PUT,r).pipe((0,_.U)(({data:i})=>i),(0,e.b)(i=>{if(!i)return;const o=(0,s.Q_)(this,d,"f").findIndex(O=>O.id===r.id);(0,s.Q_)(this,d,"f")[o]=r,(0,s.Q_)(this,l,"m",E).call(this)}))}delete(r){return this.httpService.requestCell(M.i.brandApiUrl(),u.m.DELETE,r.id).pipe((0,_.U)(({data:i})=>i),(0,e.b)(i=>{if(!i)return;const o=(0,s.Q_)(this,d,"f").findIndex(O=>O.id===r.id);(0,s.Q_)(this,d,"f").splice(o,1),(0,s.Q_)(this,l,"m",E).call(this)}))}get categorySkeletonLoader$(){return(0,g.of)(Array(10).fill(""))}get isBrandsEmpty$(){return this.brands$.pipe((0,_.U)(r=>!(r.data.length||!r.loaded)))}get isLoading$(){return this.brands$.pipe((0,_.U)(r=>!!r.loading))}get isBrandsLoaded$(){return this.brands$.pipe((0,_.U)(r=>!!r.loaded))}handleError(r){this.brands$.next({data:(0,s.Q_)(this,d,"f"),error:r})}get brandObj(){var r,i,o;return{companyCode:null===(r=this.authService.authenticatedUser)||void 0===r?void 0:r.companyCode,locationId:null===(i=this.authService.authenticatedUser)||void 0===i?void 0:i.location,terminalId:null===(o=this.authService.authenticatedUser)||void 0===o?void 0:o.terminal,name:"",backColor:"",textColor:"",fontSize:"",buttonHeight:"",shortDescription:"",active:!0,isNew:!0,isUpdated:!0,createdBy:"",createdOn:new Date,updatedBy:"",updatedOn:new Date}}}d=new WeakMap,l=new WeakSet,E=function(r=!1,i=!0,o=null){this.brands$.next({data:(0,s.Q_)(this,d,"f"),loaded:i,loading:r,error:o})},n.\u0275fac=function(r){return new(r||n)(m.LFG(C.O),m.LFG(h.f),m.LFG(P.e),m.LFG(c.x))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})},3503:(A,p,t)=>{t.d(p,{M:()=>E});var c,l,d,s=t(4762),v=t(4499),g=t(2997),_=t(4753),e=t(7384),D=t(2835),u=t(6404),f=t(5237),M=t(7038),m=t(3668),C=t(5873),h=t(6129),P=t(8881);class E{constructor(a,r,i){this.httpService=a,this.utilService=r,this.lodashService=i,c.add(this),this.orderMethods$=new v.X({data:[],loading:!1,loaded:!1}),l.set(this,[])}get(){return(0,s.Q_)(this,l,"f").length?(0,g.of)((0,s.Q_)(this,l,"f")):(this.orderMethods$.next({data:[],loading:!0,loaded:!1}),this.httpService.requestCell(u.i.orderMethodApiUrl(!0),f.m.GET).pipe((0,_.U)(({data:a})=>a.map(r=>this.utilService.convertStringPropertyToNumber(r,["id","locationId","menuLevel","onlineOrderingMenuLevel"]))),(0,_.U)(a=>this.lodashService.orderBy(a)),(0,e.b)(a=>{(0,s.YH)(this,l,a,"f"),(0,s.Q_)(this,c,"m",d).call(this)}),(0,D.K)(a=>((0,s.YH)(this,l,[],"f"),(0,s.Q_)(this,c,"m",d).call(this,!0,!1,a),(0,g.of)([]))),(0,M.d)()))}add(a){return this.httpService.requestCell(u.i.orderMethodApiUrl(),f.m.POST,a).pipe((0,e.b)(({data:r})=>{(0,s.Q_)(this,l,"f").unshift(r),(0,s.Q_)(this,c,"m",d).call(this)}))}update(a){return this.httpService.requestCell(u.i.orderMethodApiUrl(),f.m.PUT,a).pipe((0,_.U)(r=>r.data),(0,e.b)(r=>{const i=(0,s.Q_)(this,l,"f").findIndex(o=>o.id===a.id);(0,s.Q_)(this,l,"f")[i]=a,(0,s.Q_)(this,c,"m",d).call(this)}))}delete(a){return this.httpService.requestCell(u.i.orderMethodApiUrl(),f.m.DELETE,a).pipe((0,_.U)(r=>r),(0,e.b)(r=>{if(!r)return;const i=(0,s.Q_)(this,l,"f").findIndex(o=>o.id===a);(0,s.Q_)(this,l,"f").splice(i,1),(0,s.Q_)(this,c,"m",d).call(this)}))}get isEmpty$(){return this.orderMethods$.pipe((0,_.U)(a=>!(a.data.length||!a.loaded)))}get isLoading$(){return this.orderMethods$.pipe((0,_.U)(a=>!!a.loading))}get isLoaded$(){return this.orderMethods$.pipe((0,_.U)(a=>!!a.loaded))}}l=new WeakMap,c=new WeakSet,d=function(a=!1,r=!0,i=null){this.orderMethods$.next({data:(0,s.Q_)(this,l,"f"),loaded:r,loading:a,error:i})},E.\u0275fac=function(a){return new(a||E)(m.LFG(C.O),m.LFG(h.f),m.LFG(P.x))},E.\u0275prov=m.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}}]);