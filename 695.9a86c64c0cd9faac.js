"use strict";(self.webpackChunke_pos_point_dashboard=self.webpackChunke_pos_point_dashboard||[]).push([[695],{9373:(x,A,i)=>{i.d(A,{a:()=>M});var p,h,b,l=i(4762),e=i(4499),u=i(2997),c=i(4753),_=i(7384),O=i(2835),s=i(7038),g=i(5237),m=i(6404),o=i(3668),E=i(5873),v=i(6129),P=i(8881);class M{constructor(t,r,f){this.httpService=t,this.utilService=r,this.lodashService=f,p.add(this),this.locations$=new e.X({data:[],loading:!1,loaded:!1}),h.set(this,[]),this.selectedLocation$=new e.X({item:void 0})}getAll(){return(0,l.Q_)(this,h,"f").length?(0,u.of)((0,l.Q_)(this,h,"f")):((0,l.Q_)(this,p,"m",b).call(this,!0,!1),this.httpService.requestCell(m.i.locationApiUrl(!0),g.m.GET).pipe((0,c.U)(({data:t})=>t.map(r=>this.utilService.convertStringPropertyToNumber(r,["id"]))),(0,c.U)(t=>this.lodashService.orderBy(t)),(0,_.b)(t=>{(0,l.YH)(this,h,t,"f"),(0,l.Q_)(this,p,"m",b).call(this),this.selectedLocation$.next({item:(0,l.Q_)(this,h,"f")[0]})}),(0,O.K)(t=>{throw(0,l.Q_)(this,p,"m",b).call(this,!1,!1,t),t}),(0,s.d)()))}new(t){return this.httpService.requestCell(m.i.locationApiUrl(),g.m.POST,t).pipe((0,c.U)(r=>r.data),(0,_.b)(r=>{(0,l.Q_)(this,h,"f").unshift(r),(0,l.Q_)(this,p,"m",b).call(this)}))}update(t){return this.httpService.requestCell(m.i.locationApiUrl(),g.m.PUT,t).pipe((0,c.U)(r=>r.data),(0,_.b)(r=>{const f=(0,l.Q_)(this,h,"f").findIndex(C=>C.id===t.id);(0,l.Q_)(this,h,"f")[f]=t,(0,l.Q_)(this,p,"m",b).call(this)}))}delete(t){return this.httpService.requestCell(m.i.locationApiUrl(),g.m.DELETE,t).pipe((0,_.b)(r=>{const f=(0,l.Q_)(this,h,"f").findIndex(C=>C.id===t);(0,l.Q_)(this,h,"f").splice(f,1),(0,l.Q_)(this,p,"m",b).call(this)}))}selectLocation(t){this.selectedLocation$.next({item:t})}get isLocationEmpty$(){return this.locations$.pipe((0,c.U)(t=>!(t.data.length||!t.loaded)))}get isLoading$(){return this.locations$.pipe((0,c.U)(t=>!!t.loading))}get isLocationsLoaded$(){return this.locations$.pipe((0,c.U)(t=>!!t.loaded))}get isServiceSelected$(){return this.selectedLocation$.pipe((0,c.U)(t=>!!t.item))}}h=new WeakMap,p=new WeakSet,b=function(t=!1,r=!0,f=null){this.locations$.next({data:(0,l.Q_)(this,h,"f"),loaded:r,loading:t,error:f})},M.\u0275fac=function(t){return new(t||M)(o.LFG(E.O),o.LFG(v.f),o.LFG(P.x))},M.\u0275prov=o.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})},4031:(x,A,i)=>{i.d(A,{z:()=>M});var p,h,b,l=i(4762),e=i(4499),u=i(2997),c=i(4753),_=i(7384),O=i(2835),s=i(6404),g=i(5237),m=i(7038),o=i(3668),E=i(5873),v=i(6129),P=i(8881);class M{constructor(t,r,f){this.httpService=t,this.utilService=r,this.lodashService=f,p.add(this),this.terminals$=new e.X({data:[],loading:!1,loaded:!1}),h.set(this,[])}getAll(){return(0,l.Q_)(this,h,"f").length?((0,l.Q_)(this,p,"m",b).call(this),(0,u.of)((0,l.Q_)(this,h,"f"))):((0,l.Q_)(this,p,"m",b).call(this,!0,!1),this.httpService.requestCell(s.i.terminalApiUrl(),g.m.GET).pipe((0,c.U)(({data:t})=>t.map(r=>this.utilService.convertStringPropertyToNumber(r,["id","locationId"]))),(0,c.U)(t=>this.lodashService.orderBy(t)),(0,_.b)(t=>{(0,l.YH)(this,h,t,"f"),(0,l.Q_)(this,p,"m",b).call(this)}),(0,O.K)(t=>{throw(0,l.Q_)(this,p,"m",b).call(this,!1,!0,t),t}),(0,m.d)()))}new(t){return this.httpService.requestCell(s.i.terminalApiUrl(),g.m.POST,t).pipe((0,c.U)(r=>r.data),(0,_.b)(r=>{(0,l.Q_)(this,h,"f").unshift(r),(0,l.Q_)(this,p,"m",b).call(this)}))}update(t){return this.httpService.requestCell(s.i.terminalApiUrl(),g.m.PUT,t).pipe((0,c.U)(r=>r.data),(0,_.b)(r=>{const f=(0,l.Q_)(this,h,"f").findIndex(C=>C.id===t.id);(0,l.Q_)(this,h,"f")[f]=t,(0,l.Q_)(this,p,"m",b).call(this)}))}delete(t){return this.httpService.requestCell(s.i.terminalApiUrl(),g.m.DELETE,t).pipe((0,c.U)(r=>r),(0,_.b)(r=>{if(!r)return;const f=(0,l.Q_)(this,h,"f").findIndex(C=>C.id===t);(0,l.Q_)(this,h,"f").splice(f,1),(0,l.Q_)(this,p,"m",b).call(this)}))}get isEmpty$(){return this.terminals$.pipe((0,c.U)(t=>!(t.data.length||!t.loaded)))}get isLoading$(){return this.terminals$.pipe((0,c.U)(t=>!!t.loading))}get isLoaded$(){return this.terminals$.pipe((0,c.U)(t=>!!t.loaded))}}h=new WeakMap,p=new WeakSet,b=function(t=!1,r=!0,f=null){this.terminals$.next({data:(0,l.Q_)(this,h,"f"),loaded:r,loading:t,error:f})},M.\u0275fac=function(t){return new(t||M)(o.LFG(E.O),o.LFG(v.f),o.LFG(P.x))},M.\u0275prov=o.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})},565:(x,A,i)=>{i.d(A,{x:()=>_});var l=i(4762),e=i(6999),u=i(6441),c=i(3668);let _=class{constructor(s){this.breakpointObserver=s}resizeXLargeDialog(s,g,m,o){this.breakpointObserver.observe(e.u3.Handset).pipe((0,u.t)(this)).subscribe(E=>{if(!E.matches){const v=o&&o>1?50*o:0;null==s||s.updateSize(`calc(90vw - ${v}px)`),g.setStyle(m,"height",`calc(75vh - ${v}px)`)}})}resizeLargeDialog(s,g,m,o=1){s.disableClose=!0,this.breakpointObserver.observe(e.u3.Handset).pipe((0,u.t)(this)).subscribe(E=>{if(!E.matches)if(o>1){const v=o&&o>1?20*o:0;null==s||s.updateSize(`calc(80vw - ${v}px)`),g.setStyle(m,"height",`calc(65vh - ${v}px)`)}else null==s||s.updateSize("calc(80vw - 0px)"),g.setStyle(m,"height","calc(65vh - 0px)")})}resizeSmallDialog(s,g,m,o){this.breakpointObserver.observe(e.u3.Handset).pipe((0,u.t)(this)).subscribe(E=>{if(console.log(E),!E.matches){const v=o&&o>1?20*o:0;null==s||s.updateSize(`calc(500px - ${v}px)`),g.setStyle(m,"max-height",`calc(40vh - ${v}px)`)}})}resizeMediumDialog(s,g,m,o=1,E=!1){s.disableClose=!!E,this.breakpointObserver.observe(e.u3.Handset).pipe((0,u.t)(this)).subscribe(v=>{if(!v.matches){const P=o&&o>1?20*o:0;null==s||s.updateSize(`calc(800px - ${P}px)`),g.setStyle(m,"height",`calc(65vh - ${P}px)`)}})}resizeMediumSizeDialog(s,g,m,o){this.breakpointObserver.observe(e.u3.Handset).pipe((0,u.t)(this)).subscribe(E=>{if(!E.matches){const v=o&&o>1?20*o:0;null==s||s.updateSize(`calc(800px - ${v}px)`),g.setStyle(m,"max-height",`calc(50vh - ${v}px)`)}})}};_.\u0275fac=function(s){return new(s||_)(c.LFG(e.Yg))},_.\u0275prov=c.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_=(0,l.gn)([(0,u.c)()],_)},514:(x,A,i)=>{i.d(A,{Rr:()=>S,rP:()=>C});var l=i(3242),e=i(3668),u=i(6731),c=i(7497),_=i(348),O=i(9133),s=i(9555);const g=["thumbContainer"],m=["toggleBar"],o=["input"],E=function(d){return{enterDuration:d}},v=["*"],P=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let p=0;const h={provide:O.JU,useExisting:(0,e.Gpc)(()=>S),multi:!0};class b{constructor(D,a){this.source=D,this.checked=a}}const M=(0,u.sb)((0,u.pj)((0,u.Kr)((0,u.Id)(class{constructor(d){this._elementRef=d}}))));let S=(()=>{class d extends M{constructor(a,n,T,L,I,U){super(a),this._focusMonitor=n,this._changeDetectorRef=T,this.defaults=I,this._onChange=R=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++p,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(L)||0,this.color=this.defaultColor=I.color||"accent",this._noopAnimations="NoopAnimations"===U}get required(){return this._required}set required(a){this._required=(0,_.Ig)(a)}get checked(){return this._checked}set checked(a){this._checked=(0,_.Ig)(a),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(a=>{"keyboard"===a||"program"===a?this._inputElement.nativeElement.focus():a||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(a){a.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(a){a.stopPropagation()}writeValue(a){this.checked=!!a}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a,this._changeDetectorRef.markForCheck()}focus(a,n){n?this._focusMonitor.focusVia(this._inputElement,n,a):this._inputElement.nativeElement.focus(a)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new b(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return d.\u0275fac=function(a){return new(a||d)(e.Y36(e.SBq),e.Y36(c.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(P),e.Y36(s.Qb,8))},d.\u0275cmp=e.Xpm({type:d,selectors:[["mat-slide-toggle"]],viewQuery:function(a,n){if(1&a&&(e.Gf(g,5),e.Gf(m,5),e.Gf(o,5)),2&a){let T;e.iGM(T=e.CRH())&&(n._thumbEl=T.first),e.iGM(T=e.CRH())&&(n._thumbBarEl=T.first),e.iGM(T=e.CRH())&&(n._inputElement=T.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(a,n){2&a&&(e.Ikx("id",n.id),e.uIk("tabindex",n.disabled?null:-1)("aria-label",null)("aria-labelledby",null),e.ekj("mat-checked",n.checked)("mat-disabled",n.disabled)("mat-slide-toggle-label-before","before"==n.labelPosition)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([h]),e.qOj],ngContentSelectors:v,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(a,n){if(1&a&&(e.F$t(),e.TgZ(0,"label",0,1),e.TgZ(2,"div",2,3),e.TgZ(4,"input",4,5),e.NdJ("change",function(L){return n._onChangeEvent(L)})("click",function(L){return n._onInputClick(L)}),e.qZA(),e.TgZ(6,"div",6,7),e._UZ(8,"div",8),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"span",11,12),e.NdJ("cdkObserveContent",function(){return n._onLabelTextChange()}),e.TgZ(13,"span",13),e._uU(14,"\xa0"),e.qZA(),e.Hsn(15),e.qZA(),e.qZA()),2&a){const T=e.MAs(1),L=e.MAs(12);e.uIk("for",n.inputId),e.xp6(2),e.ekj("mat-slide-toggle-bar-no-side-margin",!L.textContent||!L.textContent.trim()),e.xp6(2),e.Q6J("id",n.inputId)("required",n.required)("tabIndex",n.tabIndex)("checked",n.checked)("disabled",n.disabled),e.uIk("name",n.name)("aria-checked",n.checked.toString())("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",T)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",e.VKq(18,E,n._noopAnimations?0:150))}},directives:[u.wG,l.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),d})(),f=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({}),d})(),C=(()=>{class d{}return d.\u0275fac=function(a){return new(a||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[[f,u.si,u.BQ,l.Q8],f,u.BQ]}),d})()}}]);