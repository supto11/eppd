"use strict";(self.webpackChunke_pos_point_dashboard=self.webpackChunke_pos_point_dashboard||[]).push([[871],{431:(O,Z,t)=>{t.d(Z,{W:()=>L});var e=t(3668),C=t(5417),s=t(86),d=t(3530),n=t(4104),T=t(7444),_=t(9112),v=t(6019);function y(l,m){if(1&l){const i=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){const c=e.CHM(i).$implicit;return e.oxw().languageService.changeLanguage(c)}),e.ALo(1,"async"),e._UZ(2,"img",9),e.TgZ(3,"span",10),e._uU(4),e.qZA(),e.qZA()}if(2&l){const i=m.$implicit,g=e.oxw();let u;e.Q6J("disabled",i.code2===(null==(u=e.lcZ(1,5,g.languageService.selectedLanguage$))?null:u.code2)),e.xp6(2),e.Q6J("src",i.flag,e.LSH)("alt",i.englishName),e.xp6(2),e.AsE("",i.englishName," (",i.code2,")")}}let f=(()=>{class l{constructor(i){this.languageService=i}}return l.\u0275fac=function(i){return new(i||l)(e.Y36(C.T))},l.\u0275cmp=e.Xpm({type:l,selectors:[["eppd-change-language-01"]],decls:13,vars:21,consts:[["mat-icon-button","","aria-label","Change language",3,"matMenuTriggerFor","fxHide.gt-sm","matTooltip"],[1,"round__object","mat-elevation-z1",2,"background-size","cover"],["mat-button","","aria-label","Change language",1,"round__button",3,"matMenuTriggerFor","fxHide","fxHide.gt-sm","matTooltip"],["width","20",1,"mat-elevation-z1",3,"src","alt"],[1,"ml__1"],["xPosition","before",1,"minimum__width__menu"],["changeLanguageMenu","matMenu"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"disabled","click"],["width","25",1,"mat-elevation-z1",3,"src","alt"],[1,"ml__2"]],template:function(i,g){if(1&i&&(e.TgZ(0,"button",0),e._UZ(1,"mat-icon",1),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"img",3),e.ALo(5,"async"),e.ALo(6,"async"),e.TgZ(7,"span",4),e._uU(8),e.ALo(9,"async"),e.qZA(),e.qZA(),e.TgZ(10,"mat-menu",5,6),e.YNc(12,y,5,7,"button",7),e.qZA()),2&i){const u=e.MAs(11);let c,h,x,A;e.Q6J("matMenuTriggerFor",u)("fxHide.gt-sm",!0)("matTooltip","Change to your language"),e.xp6(1),e.Udp("background-image","url("+(null==(c=e.lcZ(2,13,g.languageService.selectedLanguage$))?null:c.flag)+")"),e.xp6(2),e.Q6J("matMenuTriggerFor",u)("fxHide",!0)("fxHide.gt-sm",!1)("matTooltip","Change to your language"),e.xp6(1),e.Q6J("src",null==(h=e.lcZ(5,15,g.languageService.selectedLanguage$))?null:h.flag,e.LSH)("alt",null==(x=e.lcZ(6,17,g.languageService.selectedLanguage$))?null:x.englishName),e.xp6(4),e.Oqu(null==(A=e.lcZ(9,19,g.languageService.selectedLanguage$))?null:A.englishName),e.xp6(4),e.Q6J("ngForOf",g.languageService.languages)}},directives:[s.lW,d.p6,n.b8,T.gM,_.Hw,d.VK,v.sg,d.OP],pipes:[v.Ov],styles:[".change__language__menu__item[_ngcontent-%COMP%]{min-width:200px!important}.change__language__menu__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:20px;opacity:.7}"]}),l})(),L=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["eppd-change-language"]],decls:1,vars:0,template:function(i,g){1&i&&e._UZ(0,"eppd-change-language-01")},directives:[f],styles:[""]}),l})()},7871:(O,Z,t)=>{t.r(Z),t.d(Z,{LoginModule:()=>H});var e=t(6019),C=t(4762),s=t(9133),d=t(6441),n=t(3668),T=t(9716),_=t(5417),v=t(840),y=t(431),f=t(888),L=t(515),l=t(8167),m=t(4383),i=t(86),g=t(9112),u=t(904),c=t(7964),h=t(8292);function x(o,r){if(1&o&&(n.TgZ(0,"h3",16),n._uU(1,"Welcome back, "),n.TgZ(2,"strong"),n._uU(3),n.qZA(),n.qZA()),2&o){const a=n.oxw();n.xp6(3),n.Oqu(a.authService.previousAuthUsername)}}function A(o,r){1&o&&(n.TgZ(0,"strong",17),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&o&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"form.validationErrors.invalidCredentials")))}function M(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"form.validationErrors.required")," "))}function q(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"form.validationErrors.required")," "))}function J(o,r){1&o&&(n.TgZ(0,"mat-error"),n.TgZ(1,"mat-icon"),n._uU(2,"warning"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"form.validationErrors.required")," "))}function I(o,r){1&o&&(n.TgZ(0,"span"),n.TgZ(1,"mat-icon",18),n._uU(2,"login"),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"modules.login.loginButton")," "))}function S(o,r){1&o&&(n.TgZ(0,"span"),n.TgZ(1,"mat-icon",18),n._UZ(2,"mat-spinner",19),n.qZA(),n._uU(3),n.ALo(4,"translate"),n.qZA()),2&o&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"modules.login.signing")," "))}let p=class{constructor(r,a,b,U){this.fb=r,this.appRouteService=a,this.languageService=b,this.authService=U,this.isPasswordVisible=!1,this.isLoading=!1,this.hasAuthError=!1,this.loginForm=this.fb.group({companyId:this.fb.control("",s.kI.required),username:this.fb.control(U.previousAuthUsername,s.kI.required),password:this.fb.control("",s.kI.required),rememberMe:this.fb.control(!0)})}onSubmitLoginForm(){if(this.loginForm.invalid)return;const{value:r}=this.loginForm;this.isLoading=!0,this.authService.tryLogin({companyCode:r.companyId,userName:r.username,password:r.password}).pipe((0,d.t)(this)).subscribe(()=>{this.isLoading=!1,this.appRouteService.pos.screen().navigate()},()=>{this.hasAuthError=!0,this.isLoading=!1})}get companyId(){return this.loginForm.get("companyId")}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}onChangePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible}};p.\u0275fac=function(r){return new(r||p)(n.Y36(s.qu),n.Y36(T.O),n.Y36(_.T),n.Y36(v.e))},p.\u0275cmp=n.Xpm({type:p,selectors:[["eppd-login"]],decls:42,vars:38,consts:[[1,"mat-app-background"],[1,"language__box"],[1,"auth__box"],["class","text__center",4,"ngIf"],[1,"text__center","text__cap"],["class","text__danger text__center d__block my__2",4,"ngIf"],["fxLayout","column","fxLayoutGap","10px",3,"formGroup","ngSubmit"],["appearance","outline"],[1,"text__cap"],["matInput","","formControlName","companyId",3,"readOnly","placeholder"],[4,"ngIf"],["matInput","","formControlName","username","autocomplete","username",3,"readOnly","placeholder"],["matInput","","autocomplete","current-password","formControlName","password",3,"type","readOnly","placeholder"],["matSuffix","","mat-icon-button","","type","button",3,"click"],["formControlName","rememberMe","color","primary"],["mat-flat-button","","color","primary",1,"round__button",3,"disabled"],[1,"text__center"],[1,"text__danger","text__center","d__block","my__2"],[1,"px__1","mat__small__icon"],["diameter","20"]],template:function(r,a){1&r&&(n.TgZ(0,"section",0),n.TgZ(1,"div",1),n._UZ(2,"eppd-change-language"),n.qZA(),n.TgZ(3,"div",2),n.TgZ(4,"mat-card"),n.YNc(5,x,4,1,"h3",3),n.TgZ(6,"h2",4),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.YNc(9,A,3,3,"strong",5),n.TgZ(10,"mat-card-content"),n.TgZ(11,"form",6),n.NdJ("ngSubmit",function(){return a.onSubmitLoginForm()}),n.TgZ(12,"mat-form-field",7),n.TgZ(13,"mat-label",8),n._uU(14),n.ALo(15,"translate"),n.qZA(),n._UZ(16,"input",9),n.ALo(17,"translate"),n.YNc(18,M,5,3,"mat-error",10),n.qZA(),n.TgZ(19,"mat-form-field",7),n.TgZ(20,"mat-label",8),n._uU(21),n.ALo(22,"translate"),n.qZA(),n._UZ(23,"input",11),n.ALo(24,"translate"),n.YNc(25,q,5,3,"mat-error",10),n.qZA(),n.TgZ(26,"mat-form-field",7),n.TgZ(27,"mat-label",8),n._uU(28),n.ALo(29,"translate"),n.qZA(),n._UZ(30,"input",12),n.ALo(31,"translate"),n.TgZ(32,"button",13),n.NdJ("click",function(){return a.onChangePasswordVisibility()}),n.TgZ(33,"mat-icon"),n._uU(34),n.qZA(),n.qZA(),n.YNc(35,J,5,3,"mat-error",10),n.qZA(),n.TgZ(36,"mat-checkbox",14),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.TgZ(39,"button",15),n.YNc(40,I,5,3,"span",10),n.YNc(41,S,5,3,"span",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(5),n.Q6J("ngIf",a.authService.previousAuthUsername),n.xp6(2),n.Oqu(n.lcZ(8,22,"modules.login.title")),n.xp6(2),n.Q6J("ngIf",a.hasAuthError),n.xp6(2),n.Q6J("formGroup",a.loginForm),n.xp6(3),n.Oqu(n.lcZ(15,24,"modules.login.companyId")),n.xp6(2),n.Q6J("readOnly",a.isLoading)("placeholder",n.lcZ(17,26,"modules.login.companyId")),n.xp6(2),n.Q6J("ngIf",a.companyId.hasError("required")),n.xp6(3),n.Oqu(n.lcZ(22,28,"modules.login.username")),n.xp6(2),n.Q6J("readOnly",a.isLoading)("placeholder",n.lcZ(24,30,"modules.login.username")),n.xp6(2),n.Q6J("ngIf",null==a.username?null:a.username.hasError("required")),n.xp6(3),n.Oqu(n.lcZ(29,32,"modules.login.password")),n.xp6(2),n.Q6J("type",a.isPasswordVisible?"text":"password")("readOnly",a.isLoading)("placeholder",n.lcZ(31,34,"modules.login.password")),n.xp6(4),n.Oqu(a.isPasswordVisible?"visibility_off":"visibility"),n.xp6(1),n.Q6J("ngIf",null==a.password?null:a.password.hasError("required")),n.xp6(2),n.Oqu(n.lcZ(38,36,"modules.login.remember")),n.xp6(2),n.Q6J("disabled",a.isLoading||a.loginForm.invalid),n.xp6(1),n.Q6J("ngIf",!a.isLoading),n.xp6(1),n.Q6J("ngIf",a.isLoading))},directives:[y.W,f.a8,e.O5,f.dn,s._Y,s.JL,L.xw,L.SQ,s.sg,l.KE,l.hX,m.Nt,s.Fj,s.JJ,s.u,i.lW,l.R9,g.Hw,u.oG,l.TO,c.$g],pipes:[h.X$],styles:["section[_ngcontent-%COMP%]{display:grid;place-items:center;height:100vh;position:relative}section[_ngcontent-%COMP%]   .language__box[_ngcontent-%COMP%]{position:absolute;top:20px;right:70px}section[_ngcontent-%COMP%]   .language__name[_ngcontent-%COMP%]{display:inline-block;margin-left:10px!important}section[_ngcontent-%COMP%]   .auth__box[_ngcontent-%COMP%]{min-width:400px}"]}),p=(0,C.gn)([(0,d.c)()],p);var F=t(3886),N=t(6153),P=t(9323);const Q=[{path:"",component:p}],Y=[h.aw],E=[f.QW,l.lN,m.c,i.ot,g.Ps,u.p9,c.Cq],w=[P.A];let H=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[e.ez,s.UX,F.Bz.forChild(Q),...E,...w,...Y,N.o9]]}),o})()}}]);